<!DOCTYPE html>
<html>
<head>
<title>JEE Dashboard</title>

<style>
*{ box-sizing:border-box; }

body{
    margin:0;
    font-family:Poppins, sans-serif;
    background:#1b1b2f;
    color:white;
}

.container{
    display:flex;
    min-height:100vh;
}

/* ===== Sidebar ===== */
.sidebar{
    width:260px;
    background:#16213e;
    padding:20px;
    display:flex;
    flex-direction:column;
}

.sidebar h2{
    text-align:center;
    margin-bottom:10px;
}

.sidebar p{
    text-align:center;
    opacity:0.8;
    margin-bottom:25px;
}

/* Buttons / Links */
.menu-btn{
    display:block;
    padding:14px;
    margin-bottom:12px;
    border-radius:10px;
    background:#0f3460;
    color:white;
    font-size:16px;
    text-decoration:none;
    text-align:center;
    cursor:pointer;
    transition:0.3s;
    box-shadow:0 6px #0b1c2d;
}

.menu-btn:hover{
    transform:translateY(-3px);
    box-shadow:0 9px #0b1c2d;
    background:#1a4f8b;
}

/* ===== Dropdown ===== */
.sub-menu{
    max-height:0;
    overflow:hidden;
    transition:max-height 0.4s ease;
    margin-bottom:10px;
}

.sub-menu a{
    background:#1a4f8b;
    box-shadow:0 4px #0b1c2d;
}

/* ===== Main ===== */
.main{
    flex:1;
    padding:40px;
    overflow-y:auto;
}

.card{
    background:#0f3460;
    padding:20px;
    border-radius:15px;
    margin-bottom:25px;
}

.chart-box{ width:280px; margin:auto; }
.graph-box{ width:500px; margin:auto; }
</style>

<script>
function toggleMenu(id){
    const menu = document.getElementById(id);
    menu.style.maxHeight = menu.style.maxHeight ? null : menu.scrollHeight + "px";
}
</script>
</head>

<body>

<div class="container">

<!-- ===== SIDEBAR ===== -->
<div class="sidebar">
    <h2>üöÄ JEE</h2>
    <p>Welcome {{ user.name }}</p>

    <button class="menu-btn" onclick="toggleMenu('ytMenu')">
        ‚ñ∂Ô∏è YouTube Lectures
    </button>
    <div class="sub-menu" id="ytMenu">
        <a href="/jee/youtube/physics" class="menu-btn">Physics</a>
        <a href="/jee/youtube/chemistry" class="menu-btn">Chemistry</a>
        <a href="/jee/youtube/maths" class="menu-btn">Mathematics</a>
    </div>

    <a href="/quiz?exam=jee" class="menu-btn">üß† Online Quiz</a>

    <a href="/jee/pyqs" class="menu-btn">üìÑ PYQs</a>

    <a href="/dashboard" class="menu-btn">‚¨Ö Back to Dashboard</a>
</div>

<!-- ===== MAIN CONTENT ===== -->
<div class="main">

    <div class="card">
        <h2>Welcome {{ user.name }} üëã</h2>
        <p>Consistency + practice = rank.</p>
    </div>

    <div class="card">
        <h3>Study Streak üî•</h3>
        <p>{{ user.streak }} Days</p>
    </div>

    <div class="card">
        <h3>üìä Course Progress</h3>
        <div class="chart-box">
            <canvas id="pieChart"></canvas>
        </div>
    </div>

    <div class="card">
        <h3>üìà Weekly Study Hours</h3>
        <div class="graph-box">
            <canvas id="lineChart"></canvas>
        </div>
    </div>

</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
new Chart(pieChart,{
    type:'pie',
    data:{ labels:['Completed','Remaining'], datasets:[{ data:[50,50] }] }
});

new Chart(lineChart,{
    type:'line',
    data:{
        labels:['Day 1','Day 2','Day 3','Day 4','Day 5','Day 6','Day 7'],
        datasets:[{
            label:'Study Hours',
            data:[2,3,4,3,5,6,4],
            tension:0.3
        }]
    },
    options:{ scales:{ y:{ beginAtZero:true } } }
});
</script>

<script>
    (function(){if(!window.chatbase||window.chatbase("getState")!=="initialized"){window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})}const onLoad=function(){const script=document.createElement("script");script.src="https://www.chatbase.co/embed.min.js";script.id="WMJQg_20O6zKS09iBSSad";script.domain="www.chatbase.co";document.body.appendChild(script)};if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}})();
</script>

</body>
</html>
